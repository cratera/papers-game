(this["webpackJsonppapers-game-client"]=this["webpackJsonppapers-game-client"]||[]).push([[0],{112:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),o=n(52),c=n.n(o),i=n(9),s=(n(67),n(2)),u=n(0),b=n(12);function l(){var e=Object(s.a)(["\n  background-color: white;\n  color: ",";\n  ",";\n  line-height: 1.4;\n"]);return l=function(){return e},e}function d(){var e=Object(s.a)(["\n    font-size: 1.4rem;\n  "]);return d=function(){return e},e}function f(){var e=Object(s.a)(["\n    color: ",";\n  "]);return f=function(){return e},e}function m(){var e=Object(s.a)(["\n    font-size: 1.6rem;\n  "]);return m=function(){return e},e}function j(){var e=Object(s.a)(["\n    font-size: 1.6rem;\n    font-weight: 700;\n  "]);return j=function(){return e},e}function O(){var e=Object(s.a)(["\n    font-size: 3.2rem;\n    font-weight: 700;\n  "]);return O=function(){return e},e}function p(){var e=Object(s.a)(["\n    font-size: 4rem;\n    font-weight: 700;\n    line-height: 4.8rem;\n    display: block;\n  "]);return p=function(){return e},e}var g="#484F5D",h="#7F848E",v="#E5E6E8",y="#0038FF",C="#E6EBFF",k="#4EBD81",w="#fff",x={h1:Object(u.a)(p()),h2:Object(u.a)(O()),h3:Object(u.a)(j()),default:Object(u.a)(m()),secondary:Object(u.a)(f(),h),small:Object(u.a)(d())},S=Object(u.a)(l(),g,x.default),I=n(8),M=n(3),G=n(53),L=n(54),F=n(60),T=n(55),E=n(6),P=n(61),W=n(56),N=n.n(W),B=n(4);function Z(e,t){var n=new FileReader;n.onload=function(e){return t(e.target.result)},n.readAsDataURL(e)}function R(e){return Math.floor(Math.random()*(e-0+1))+0}function A(e){var t=Object(r.useRef)();return Object(r.useEffect)((function(){t.current=e})),t.current}var _=[["conservative","supplementary","wife","inquiry","compensation","able","future","mind","prevent","progressive"],["inject","dark","doubt","constitutional","honor","shine","pause","shot","underline","appoint"],["dance","captivate","runner","thoughtful","compose","dine","mask","admit","favor","advantage"],["finance","guess","reduction","indirect","prosecution","seed","stem","problem","obstacle","explicit"]],z=a.a.createContext({}),D=function(e){function t(e){var n;Object(G.a)(this,t);return(n=Object(F.a)(this,Object(T.a)(t).call(this,e))).URL=window.location.host,n.state={socket:null,profile:{id:window.localStorage.getItem("profile_id")||null,name:window.localStorage.getItem("profile_name")||null,avatar:window.localStorage.getItem("profile_avatar")||null,gameId:window.localStorage.getItem("profile_gameId")||null},game:void 0},n._removeGameFromState=n._removeGameFromState.bind(Object(E.a)(n)),n.PapersAPI={open:n.open.bind(Object(E.a)(n)),recoverPlayer:n.recoverPlayer.bind(Object(E.a)(n)),updateProfile:n.updateProfile.bind(Object(E.a)(n)),accessGame:n.accessGame.bind(Object(E.a)(n)),recoverGame:n.recoverGame.bind(Object(E.a)(n)),leaveGame:n.leaveGame.bind(Object(E.a)(n)),kickoutOfGame:n.kickoutOfGame.bind(Object(E.a)(n)),setTeams:n.setTeams.bind(Object(E.a)(n)),setWords:n.setWords.bind(Object(E.a)(n)),setWordsForEveyone:n.setWordsForEveyone.bind(Object(E.a)(n)),startGame:n.startGame.bind(Object(E.a)(n)),startTurn:n.startTurn.bind(Object(E.a)(n)),finishTurn:n.finishTurn.bind(Object(E.a)(n)),startNextRound:n.startNextRound.bind(Object(E.a)(n))},n}return Object(P.a)(t,e),Object(L.a)(t,[{key:"componentDidMount",value:function(){var e=this.state.profile,t=e.id,n=e.gameId,r=this.props.location,a=Object(b.f)(r.pathname,{path:"/game/:id"});if(console.log("PapersContext Mounted:",{playedId:t,gameId:n}),a)console.log("PapersContext - on a GameRoom");else if(console.log("PapersContext - on Home"),t&&n){var o=this.PapersAPI.open();this.PapersAPI.recoverGame(o)}}},{key:"open",value:function(e){var t=this.state.socket,n=this.state.profile,r=n.id,a=n.gameId,o=e||a;return t?(t.connected?console.warn("socket already opened!",r):(console.warn("reconnecting socket...",r),t.open()),t):(console.log("creating a socket!",r),(t=N()(this.URL,{query:{playerId:r,gameId:o},transports:["websocket"]})).on("connect",(function(){console.log("connected!",r)})),this.setState({socket:t}),t)}},{key:"accessGame",value:function(e,t,n){var r=this,a=this.state.socket;if(a||(a=this.PapersAPI.open(t)),console.log("accessGame",e,t),!t)return n(new Error("Missing gameId"));a.emit("".concat(e,"-game"),{gameId:t,player:this.state.profile},n),a.on("set-game",(function(e){console.log("on set-game",e.name),window.localStorage.setItem("profile_gameId",e.name),r.setState((function(t){return{profile:Object(M.a)({},t.profile,{gameId:e.name}),game:e}}))})),a.on("kickouted",(function(){console.log("Global Status: You were quickedout! \ud83d\ude2d"),r._removeGameFromState()})),a.on("leave-game",(function(){console.log("on leave-game"),r._removeGameFromState()})),a.on("game-update",(function(e,t){console.log("game-update:",e,{payload:t});var n={"new-player":function(e){var n=t;return Object(M.a)({},e,{players:Object(M.a)({},e.players,Object(I.a)({},n.id,n))})},"pause-player":function(e){var n=t;return Object(M.a)({},e,{players:Object(M.a)({},e.players,Object(I.a)({},n,Object(M.a)({},e.players[n],{isAfk:!0})))})},"recover-player":function(e){var n=t;return Object(M.a)({},e,{players:Object(M.a)({},e.players,Object(I.a)({},n,Object(M.a)({},e.players[n],{isAfk:!1})))})},"remove-player":function(e){var n,r=t.playerId,a=t.creatorId,o=Object.keys(e.players).reduce((function(t,n){return n===r?t:Object(M.a)({},t,Object(I.a)({},n,e.players[n]))}),{});return n=e.hasStarted?Object(M.a)({},e.players,Object(I.a)({},r,Object(M.a)({},e.players[r],{hasLeft:!0}))):o,Object(M.a)({},e,{creatorId:a,players:n})},"set-words":function(e){var n=t.words,r=t.playerId;return Object(M.a)({},e,{words:Object(M.a)({},e.words,Object(I.a)({},r,n))})},"set-words-for-everyone":function(e){var n=t;return Object(M.a)({},e,{words:n})},"set-teams":function(e){var n=t;return Object(M.a)({},e,{teams:n})},"start-game":function(e){var n=t.round,r=t.hasStarted;return Object(M.a)({},e,{hasStarted:r,round:n})},"start-turn":function(e){var n=t;return Object(M.a)({},e,{round:Object(M.a)({},e.round,{},n)})},"finish-turn":function(e){window.localStorage.removeItem("turn");var n=t.round,r=t.score;return Object(M.a)({},e,{round:n,score:r})},"start-next-round":function(e){var n=t;return Object(M.a)({},e,{round:n})},ups:function(e){return console.log("Ups! game-update",t),e}},a=n[e]||n.ups;r.setState((function(e){return{game:a(e.game)}}))}))}},{key:"recoverPlayer",value:function(){console.log("recoverPlayer"),this.state.socket.open().emit("recover-player")}},{key:"updateProfile",value:function(e){var t,n=e.id||(t="player_".concat(e.name),"".concat(t,"_").concat(Math.random().toString(36).substr(2,9),"_").concat((new Date).getTime()));window.localStorage.setItem("profile_id",n),window.localStorage.setItem("profile_name",e.name),e.avatar&&window.localStorage.setItem("profile_avatar",e.avatar),this.setState((function(t){return{profile:Object(M.a)({},t.profile,{},e,{id:n})}}))}},{key:"setWordsForEveyone",value:function(){console.log("setWordsForEveyone()");var e=Object.keys(this.state.game.players).reduce((function(e,t,n){return Object(M.a)({},e,Object(I.a)({},t,_[n]))}),{});this.state.socket.emit("set-words-for-everyone",{gameId:this.state.game.name,playerId:this.state.profile.id,allWords:e})}},{key:"setWords",value:function(e,t){console.log("setWords()"),this.state.socket.emit("set-words",{gameId:this.state.game.name,playerId:this.state.profile.id,words:e},t)}},{key:"setTeams",value:function(e){console.log("setTeams()"),this.state.socket.emit("set-teams",{gameId:this.state.game.name,playerId:this.state.profile.id,teams:e})}},{key:"startGame",value:function(){console.log("startGame()"),this.state.socket.emit("start-game",{gameId:this.state.game.name,playerId:this.state.profile.id})}},{key:"startTurn",value:function(){console.log("startTurn()"),this.state.socket.emit("start-turn",{gameId:this.state.game.name,playerId:this.state.profile.id})}},{key:"finishTurn",value:function(e){console.log("finishTurn()"),this.state.socket.emit("finish-turn",{gameId:this.state.game.name,playerId:this.state.profile.id,papersTurn:e})}},{key:"startNextRound",value:function(){console.log("startNextRound()"),this.state.socket.emit("start-next-round",{gameId:this.state.game.name,playerId:this.state.profile.id})}},{key:"_removeGameFromState",value:function(){console.log("removing game"),window.localStorage.removeItem("profile_gameId"),window.localStorage.removeItem("turn"),this.state.socket&&this.state.socket.close(),this.setState((function(e){return{profile:Object(M.a)({},e.profile,{gameId:null}),game:null,socket:null}}))}},{key:"recoverGame",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.socket;t.emit("recover-game",(function(t,n){if(t){e._removeGameFromState();var r={notFound:"recover-game: Does not exist",empty:"recover-game: No games stored",ups:"recover-game: Ups!', ".concat(JSON.stringify(t))};console.warn(r[t]||r.ups)}else console.log("recover-game success:",n.game.name),e.setState({game:n.game})}))}},{key:"leaveGame",value:function(e){var t=this;console.log("leaveGame()"),this.state.socket.emit("leave-game",{gameId:this.state.game.name,playerId:this.state.profile.id},(function(e){if(e)return!0;t._removeGameFromState()}))}},{key:"kickoutOfGame",value:function(e){this.state.socket.emit("kickout-of-game",{gameId:this.state.game.name,playerId:e},(function(e){if(e)return!0}))}},{key:"render",value:function(){return a.a.createElement(z.Provider,{value:Object(M.a)({status:this.state.status,state:{profile:this.state.profile,game:this.state.game}},this.PapersAPI)},this.props.children)}}]),t}(r.Component),J=Object(b.h)(D),H=z,U=n(17),Y=n.n(U),V=n(25);function X(){var e=Object(s.a)(["\n  border-bottom: 1px solid ",";\n  padding-bottom: 1.6rem;\n  margin-bottom: 1.6rem;\n"]);return X=function(){return e},e}function q(){var e=Object(s.a)(["\n  & > button:not(:last-child),\n  & > a:not(:last-child) {\n    margin-right: 1.6rem;\n    margin-bottom: 1.6rem;\n  }\n"]);return q=function(){return e},e}function K(){var e=Object(s.a)(["\n  text-align: left;\n  position: absolute;\n  top: 0;\n  left: 0;\n"]);return K=function(){return e},e}function $(){var e=Object(s.a)(["\n  width: 20rem;\n  height: 20rem;\n  fill: ",";\n"]);return $=function(){return e},e}function Q(){var e=Object(s.a)(["\n  ","\n  background: ",";\n  margin: -0.6rem 0;\n  width: 7rem;\n  height: 7rem;\n  position: absolute;\n  top: 0;\n  left: 50%;\n  transform: translateX(-50%);\n"]);return Q=function(){return e},e}function ee(){var e=Object(s.a)(["\n  position: relative;\n  margin-bottom: 1rem;\n"]);return ee=function(){return e},e}function te(){var e=Object(s.a)(["\n  ","\n  border: none;\n  object-fit: cover;\n"]);return te=function(){return e},e}function ne(){var e=Object(s.a)(["\n  width: 80vw;\n  height: 80vw;\n  max-width: 30rem;\n  max-height: 30rem;\n  border-radius: 50%;\n  background-color: ",";\n  color: ",";\n  margin: 2.4rem auto;\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n  justify-content: center;\n\n  svg {\n    stroke: ",";\n    display: inline-block;\n    margin-bottom: 1.6rem;\n  }\n"]);return ne=function(){return e},e}function re(){var e=Object(s.a)(["\n  border: none;\n  border-bottom: 1px solid ",";\n  border-radius: 0;\n  width: 100%;\n  text-align: center;\n  ","\n  margin-top: 4rem;\n\n  &:focus {\n    outline: none;\n    border-color: ",";\n  }\n"]);return re=function(){return e},e}function ae(){var e=Object(s.a)(["\n  margin-top: 10vh;\n  display: block;\n  text-align: center;\n  height: 100%;\n"]);return ae=function(){return e},e}function oe(){var e=Object(s.a)(["\n  text-align: center;\n  margin: 0.8rem auto;\n"]);return oe=function(){return e},e}function ce(){var e=Object(s.a)(["\n  font-size: 8rem;\n"]);return ce=function(){return e},e}function ie(){var e=Object(s.a)(["\n  text-align: center;\n  flex-grow: 1;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n"]);return ie=function(){return e},e}function se(){var e=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  padding: 1.6rem 1.6rem 5rem; // confirm the bottom of iphoneX\n  height: 100vh;\n  overflow: hidden;\n"]);return se=function(){return e},e}var ue=Object(u.a)(se()),be=Object(u.a)(ie()),le=Object(u.a)(ce()),de=Object(u.a)(oe()),fe=Object(u.a)(ae()),me=Object(u.a)(re(),v,x.h1,C),je=Object(u.a)(ne(),C,y,y),Oe=Object(u.a)(te(),je),pe=Object(u.a)(ee()),ge=Object(u.a)(Q(),Oe,g),he=Object(u.a)($(),g),ve=Object(u.a)(K()),ye=Object(u.a)(q()),Ce=(Object(u.a)(X(),v),n(26));function ke(){var e=Object(s.a)(["\n    ","\n    ","\n    box-shadow: ",";\n    border: none;\n    border-radius: 4.2rem;\n    font-size: inherit;\n    background-color: ",";\n    color: ",";\n    width: ",";\n    display: ",";\n    flex-shrink: 0;\n    text-align: center;\n    text-decoration: none;\n\n    &:focus {\n      outline: 0;\n      box-shadow: 0px 4px 16px rgba(0, 56, 255, 0.1), 0 0px 5px rgba(72, 79, 93, 0.4); /* verify with maggie */\n    }\n  "]);return ke=function(){return e},e}var we={primary:{bg:y,text:w},success:{bg:k,text:w},light:{bg:w,text:y},flat:{bg:w,text:g}},xe=function(e){var t=e.variant,n=e.hasBlock,r=e.size;return Object(u.a)(ke(),"flat"===t?"\n      padding: 0;\n      ":"\n        padding: 1.6rem 2.4rem;\n        ".concat("success"!==t?"box-shadow: 0px 4px 16px rgba(0, 56, 255, 0.3);":"","\n  "),"sm"===r?"\n      padding: 0.5rem 1.5rem;\n      font-size: 1.4rem;\n  ":"",we[t].boxShadow,we[t].bg,we[t].text,n?"100%":"",n?"block":"inline-block")};function Se(e){var t=e.as,n=e.variant,r=e.hasBlock,a=e.size,o=e.children,c=Object(Ce.a)(e,["as","variant","hasBlock","size","children"]),i=t||"button";return Object(u.b)(i,Object.assign({},c,{css:xe({variant:n,hasBlock:r,size:a})}),o)}Se.defaultProps={variant:"primary"};var Ie=Object(r.memo)(Se);function Me(){var e=Object(s.a)(["\n            white-space: nowrap;\n          "]);return Me=function(){return e},e}function Ge(e){var t=Object(r.useContext)(H),n=t.state.profile,a=Object(r.useState)({name:n.name,avatar:n.avatar,step:0,avatarStatus:null}),o=Object(B.a)(a,2),c=o[0],i=o[1];function s(e,t){return{name:function(){var e=t.target.value;i((function(t){return Object(M.a)({},t,{name:e})}))},avatar:function(){var e;return Y.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e=t.target.files[0],i((function(e){return Object(M.a)({},e,{avatarStatus:"loading"})})),e){n.next=4;break}return n.abrupt("return");case 4:return n.next=6,Y.a.awrap(Object(V.a)(e,{maxWidthOrHeight:500}));case 6:Z(n.sent,(function(e){console.log("Avatar compressed!"),i((function(t){return Object(M.a)({},t,{avatar:e,avatarStatus:"loaded"})}))}));case 8:case"end":return n.stop()}}))}}[e]()}var b={0:function(){return Object(u.b)(r.Fragment,null,Object(u.b)("span",{css:le,role:"img","aria-label":"logo"},"\ud83c\udfb2"),Object(u.b)("h1",{css:x.h1},"Welcome!"),Object(u.b)("p",{css:[de,x.secondary]},"Papers is the perfect game for your"," ",Object(u.b)("span",{css:Object(u.a)(Me())},"dinner party"),".",Object(u.b)("br",null),"Made with love by Maggie and Sandy ",Object(u.b)("span",{"aria-hidden":"true"},"\ud83d\ude0e")))},1:function(){return Object(u.b)("label",{css:fe},Object(u.b)("span",null,"How should we call you?"),Object(u.b)("input",{css:me,type:"text",autoFocus:!0,defaultValue:c.name,onChange:function(e){return s("name",e)}}))},2:function(){return Object(u.b)("label",{css:fe},Object(u.b)("span",null,"Add your avatar"),Object(u.b)("input",{type:"file",className:"sr-only",accept:"image/png, image/jpeg",onChange:function(e){return s("avatar",e)}}),c.avatar?Object(u.b)("img",{css:Oe,src:c.avatar,alt:"Your avatar"}):Object(u.b)("div",{css:je},Object(u.b)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Object(u.b)("path",{d:"M23 19C23 19.5304 22.7893 20.0391 22.4142 20.4142C22.0391 20.7893 21.5304 21 21 21H3C2.46957 21 1.96086 20.7893 1.58579 20.4142C1.21071 20.0391 1 19.5304 1 19V8C1 7.46957 1.21071 6.96086 1.58579 6.58579C1.96086 6.21071 2.46957 6 3 6H7L9 3H15L17 6H21C21.5304 6 22.0391 6.21071 22.4142 6.58579C22.7893 6.96086 23 7.46957 23 8V19Z",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),Object(u.b)("path",{d:"M12 17C14.2091 17 16 15.2091 16 13C16 10.7909 14.2091 9 12 9C9.79086 9 8 10.7909 8 13C8 15.2091 9.79086 17 12 17Z",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})),Object(u.b)("span",null,"Upload or take a picture")),Object(u.b)("span",null,"loading"===c.avatarStatus&&"Loading...","loaded"===c.avatarStatus&&"Looking good!"))}}[c.step];return Object(u.b)("div",{css:ue},c.step>0&&Object(u.b)(Ie,{css:ve,variant:"flat",onClick:function(){i((function(e){return Object(M.a)({},e,{step:e.step-1})}))}},"Go back"),Object(u.b)("div",{css:be},Object(u.b)(b,null)),Object(u.b)("div",{css:ye},(0===c.step||1===c.step&&c.name&&c.name.length>3)&&Object(u.b)(Ie,{hasBlock:!0,onClick:function(){i((function(e){return Object(M.a)({},e,{step:e.step+1})}))}},"Next"),2===c.step&&Object(u.b)(Ie,{hasBlock:!0,onClick:function(){t.updateProfile({name:c.name,avatar:c.avatar})}},c.avatar?"Finish":"Skip")))}var Le=a.a.createContext({}),Fe=function(e){var t=e.children,n=Object(r.useState)({modal:{component:null,props:null}}),o=Object(B.a)(n,2),c=o[0],i=o[1];var s={setModal:function(e){i((function(t){return Object(M.a)({},t,{modal:e})}))},closeModal:function(){i((function(e){return Object(M.a)({},e,{modal:{}})}))}};return a.a.createElement(Le.Provider,{value:Object(M.a)({},c,{},s)},t)},Te=Le;function Ee(){var e=Object(s.a)(["\n  ","\n  color: #da4040;\n  margin-bottom: 1.6rem;\n  text-align: center;\n"]);return Ee=function(){return e},e}function Pe(){var e=Object(s.a)(["\n  border: none;\n  border-bottom: 1px solid ",";\n  border-radius: 0;\n  width: 100%;\n  text-align: center;\n  ","\n  margin: 0 0 1.6rem;\n\n  &:focus {\n    outline: none;\n    border-color: ",";\n  }\n"]);return Pe=function(){return e},e}function We(){var e=Object(s.a)(["\n  margin: 0.8rem 0 1.6rem;\n"]);return We=function(){return e},e}function Ne(){var e=Object(s.a)(["\n  margin-top: 0.8rem;\n"]);return Ne=function(){return e},e}function Be(){var e=Object(s.a)(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  z-index: 4;\n  height: 4.4rem;\n  width: 4.4rem;\n  border: none;\n  border-radius: 50%;\n  padding: 0;\n  cursor: pointer;\n  background-color: transparent;\n\n  &::before,\n  &::after {\n    content: '';\n    position: absolute;\n    display: block;\n    left: 50%;\n    top: 50%;\n    width: 1.2rem;\n    height: 0.2rem;\n    background-color: ",";\n    transition: transform 0.15s ease-in;\n    transform: translate(-50%, -50%) rotate(45deg);\n    transform-origin: center center;\n    border-radius: 0.2rem;\n  }\n\n  &::after {\n    transform: translate(-50%, -50%) rotate(-45deg);\n  }\n\n  &:focus,\n  &:hover {\n    outline: none;\n\n    &::before {\n      transform: translate(-50%, -50%) rotate(0);\n    }\n\n    &::after {\n      transform: translate(-50%, -50%) rotate(0);\n    }\n  }\n"]);return Be=function(){return e},e}function Ze(){var e=Object(s.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100%;\n  background-color: white;\n  padding: 1.6rem;\n"]);return Ze=function(){return e},e}function Re(){var e=Object(s.a)(["\n  position: absolute;\n  background: rgba(0, 0, 0, 0.7);\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n"]);return Re=function(){return e},e}function Ae(){var e=Object(s.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  z-index: 2;\n"]);return Ae=function(){return e},e}var _e=Object(u.a)(Ae()),ze=Object(u.a)(Re()),De=Object(u.a)(Ze()),Je=Object(u.a)(Be(),g),He=Object(u.a)(Ne()),Ue=Object(u.a)(We()),Ye=Object(u.a)(Pe(),v,x.h1,h),Ve=Object(u.a)(Ee(),x.small);function Xe(e){var t=e.variant,n=Object(r.useContext)(H),a=Object(r.useContext)(Te).closeModal,o=Object(r.useState)(!1),c=Object(B.a)(o,2),i=c[0],s=c[1],l=Object(r.useState)({gameName:null,gameToRedirect:null,errorMsg:null}),d=Object(B.a)(l,2),f=d[0],m=d[1],j={join:{title:"What's the party name?",description:"Ask your friend for it!"},create:{title:"Give this party a name!",description:"Pick a short and sweet name."}}[t];return f.gameToRedirect?Object(u.b)(b.a,{to:"/game/".concat(f.gameToRedirect)}):Object(u.b)("section",{css:_e},Object(u.b)("div",{css:ze,onClick:a,role:"none"}),Object(u.b)("div",{css:De},Object(u.b)("button",{css:Je,"aria-label":"Close Modal",onClick:a}),Object(u.b)("label",null,Object(u.b)("h1",{css:[He,x.h3]},j.title),Object(u.b)("p",{css:[x.secondary,Ue]},j.description),Object(u.b)("input",{onChange:function(e){var t=e.target.value;m((function(e){return Object(M.a)({},e,{gameName:t})}))},css:Ye,autoFocus:!0,type:"text"}),f.errorMsg&&Object(u.b)("p",{css:Ve},f.errorMsg)),f.gameName&&f.gameName.length>=3&&Object(u.b)(Ie,{hasBlock:!0,onClick:function(){s(!0),n.accessGame(t,f.gameName,(function(e){if(e){var t={exists:function(){return"Choose other name."},notFound:function(){return"This game does not exist."},ups:function(){return"Ups, something went wrong! Error: ".concat(JSON.stringify(e))}},n=(t[e]||t.ups)();return console.warn("accessGame() err:",n),s(!1),m((function(e){return Object(M.a)({},e,{errorMsg:n})}))}a()}))}},"Let's go!",i&&"\u23f3")))}function qe(e){var t=Object(r.useContext)(H),n=Object(r.useContext)(Te).setModal,a=t.state.profile;function o(e){n({component:Xe,props:{variant:e}})}return Object(u.b)("div",{css:ue},Object(u.b)("div",{css:be},Object(u.b)("div",{css:fe},Object(u.b)((function(){return Object(u.b)("div",{css:pe,"aria-hidden":"true"},Object(u.b)("label",null,Object(u.b)("span",{className:"sr-only"},"Edit your avatar"),Object(u.b)("input",{type:"file",className:"sr-only",accept:"image/png, image/jpeg",onChange:function(e){return n=e,{avatar:function(){var e;return Y.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(e=n.target.files[0]){r.next=3;break}return r.abrupt("return");case 3:return r.next=5,Y.a.awrap(Object(V.a)(e,{maxWidthOrHeight:500}));case 5:Z(r.sent,(function(e){console.log("Avatar compressed!"),t.updateProfile({name:a.name,avatar:e})}));case 7:case"end":return r.stop()}}))}}["avatar"]();var n}}),a.avatar?Object(u.b)("img",{css:ge,src:a.avatar,alt:"avatar preview"}):Object(u.b)("div",{css:ge})),Object(u.b)("svg",{css:he,version:"1.0",xmlns:"http://www.w3.org/2000/svg",width:"458.667",height:"518.667",viewBox:"0 0 344 389"},Object(u.b)("path",{d:"M163.5 31.8c-5.2 2.5-11.9 9.4-15.3 15.7-2.5 4.7-2.7 5.8-2.7 18 0 10.7.4 14.5 2.4 21.5 1.3 4.7 2.8 8.9 3.3 9.4.4.6.8 1.7.8 2.5.1.9.9 3.4 2 5.6 1.1 2.2 1.9 4.3 2 4.7 0 1.1 5.3 12.2 6 12.8 1.1.8 2 15.2 1.2 18.9-.6 2.9-1.7 3.9-6.7 6.6-7 3.7-13.4 10.7-22.1 24.5-7.2 11.3-10.7 18.8-13.8 29.5-4.4 15.1-10 32.4-11.7 36-1 2.2-3.7 9.2-6 15.5-4.1 11.1-4.2 11.9-4 22.5.2 16.4 1.8 19.5 9.5 19.5 3.1 0 3.8-.5 5.6-4 1.3-2.6 2-5.9 2-9.9 0-5.1-.5-6.6-3.6-11.2-4.3-6.5-4.4-5.8 5.2-29.4 1.8-4.4 4.2-11.4 5.4-15.5 1.2-4.1 2.7-9.3 3.5-11.5.8-2.2 2.6-8 4-12.9 4.9-16.1 23.3-44 30.3-45.8 2.2-.6 2.2-.5 2.3 16 0 16.7.4 21.5 3.3 43.2 1.5 11.5 5.4 28.2 10.2 43.8 1.8 5.5 2.4 9.4 2 11.6-.7 3.5-8.2 15.1-14.4 22.1-6.1 6.9-21.5 32.2-27.2 44.5-2.9 6.3-5.7 12.1-6.2 12.7-.6.7-3.1 1.3-5.7 1.3-4.4 0-21.9 5.8-24.8 8.2-.7.6-1.3 2-1.3 3.2 0 4.4 4.1 5.8 9 3.3 5.2-2.7 14.7-5.5 20.5-6.2 8.6-.9 9.2-1.2 10.8-5.3 1.5-3.8 8-18.1 9.8-21.7.5-1.1 3.4-5.8 6.4-10.5 3-4.7 6.8-10.8 8.4-13.5 1.6-2.8 5.3-7.7 8.1-11s6.8-8.6 8.8-11.7c2-3.2 3.9-5.8 4.2-5.8 1.4 0 6.1 19.1 8 32.5.5 3.8 1.6 9.7 2.4 13 .8 3.3 2.2 11.2 3.1 17.5 2.2 14.8 2.6 15.6 8.5 16.9 6.7 1.4 15.3 4.8 17.6 6.9 7.9 7.1 15.6 9.1 16.2 4.3.3-1.9-.9-3.7-5.2-7.7-3-2.9-7.3-5.8-9.3-6.4-2.1-.7-4.2-1.6-4.8-2-.5-.4-3.6-1.5-6.7-2.4-5.2-1.5-5.8-1.9-6.3-4.9-.3-1.7-1.2-6.8-2-11.2-6.8-39.9-10.1-53.7-15.3-64.6-1.7-3.5-4.2-10.5-5.7-15.4-1.4-5-3-10.1-3.5-11.5-.5-1.4-1.2-4.3-1.6-6.5-.4-2.2-1-4.5-1.4-5-.9-1.2-4.6-23.6-6-36.7-.5-5.4-1-17.7-1-27.5v-17.8l11.8-2.9c25.3-6.2 42.8-13.2 48.3-19.4 3.6-4 9.5-12.6 11.9-17.2.7-1.4 1.6-2.7 2-3 .4-.3 1.9-2.8 3.5-5.5 1.6-2.8 3.3-5.6 3.9-6.4.6-.7 3.6-7 6.7-13.9l5.6-12.6 5.1.3c4.6.2 5.5-.1 8.2-2.7 2.5-2.5 3-3.9 3-7.6 0-3.6-.5-5-2.7-7.1-1.5-1.4-3.6-2.5-4.6-2.5-1.4 0-1.7-.5-1.3-1.7 1.5-3.9 1.8-10.3.6-11.8-1.8-2.1-5.3-1.9-7.4.6-3.1 3.7-6.5 12-7.1 17.8-.8 7.1-3 14.1-6.5 21.1-1.5 3-4 8.3-5.6 11.7-1.6 3.5-3.2 6.3-3.6 6.3-.5 0-.8.5-.8 1 0 1-4.8 8.9-6.1 10-.3.3-2 3.1-3.8 6.2-4.2 7.6-11.7 15-16.6 16.6-2.2.7-4.9 1.7-6 2.2-6.4 2.6-22.9 8.1-28 9.4-3.3.8-7 1.8-8.2 2.2-2.2.6-2.3.5-2.3-7.1 0-4.7.5-8.1 1.3-9 .6-.7 3.5-3.7 6.3-6.6 21.8-23.1 31.2-49.1 24.3-67.3-2.4-6.5-9.3-14.1-16.3-18.1-6.5-3.7-18.2-4.5-24.1-1.7zm18 9.1c5.4 2.4 10.8 7.6 13.5 12.9 2 3.8 2.2 5.4 1.7 13-.6 10.7-3.3 17.8-11 29.5-4.5 6.8-15.4 19.7-16.6 19.7-.5 0-1.6-1.7-2.6-3.8-.9-2-2-4.6-2.5-5.7-4.9-10.8-9.1-27.6-9.7-39-.5-8.7-.3-10.6 1.5-14.5 2-4.4 9.2-12.2 12.2-13.3 3.2-1.1 9.7-.6 13.5 1.2z"})))}),null),Object(u.b)("h1",null,"Welcome",Object(u.b)("span",{css:x.h1},a.name)))),Object(u.b)("div",{css:ye},Object(u.b)(Ie,{hasBlock:!0,onClick:function(){return o("join")}},"Join Game"),Object(u.b)(Ie,{hasBlock:!0,variant:"light",onClick:function(){return o("create")}},"Create Game")))}function Ke(e){var t=Object(r.useContext)(H),n=t.state.game&&t.state.game.name;return n?Object(u.b)(b.a,{push:!0,to:"/game/".concat(n)}):t.state.profile.name?Object(u.b)(qe,null):Object(u.b)(Ge,null)}function $e(){var e=Object(s.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-end;\n  margin-bottom: 1.6rem;\n\n  button {\n    color: ","; /* TODO DS */\n  }\n"]);return $e=function(){return e},e}function Qe(){var e=Object(s.a)(["\n  margin-top: 0.8rem;\n  margin-bottom: 4rem;\n"]);return Qe=function(){return e},e}function et(){var e=Object(s.a)(["\n  width: 3.2rem; /* 5.6 too big */\n  height: 3.2rem;\n  object-fit: cover;\n  border-radius: 50%;\n  margin-right: 1.6rem;\n  background: ",";\n"]);return et=function(){return e},e}function tt(){var e=Object(s.a)(["\n  display: flex;\n  align-items: center;\n  margin-bottom: 1.6rem; /* 2.4 too big */\n  justify-content: space-between;\n\n  span {\n    display: flex;\n    align-items: center;\n  }\n"]);return tt=function(){return e},e}function nt(){var e=Object(s.a)(["\n  margin-top: 1.6rem;\n"]);return nt=function(){return e},e}function rt(){var e=Object(s.a)(["\n  padding-bottom: 0.8rem;\n"]);return rt=function(){return e},e}function at(){var e=Object(s.a)(["\n  text-align: center;\n  padding-top: 5vh;\n  margin-bottom: 4rem;\n"]);return at=function(){return e},e}function ot(){var e=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  padding: 1.6rem 1.6rem 5rem; /* confirm the bottom of iphoneX */\n  height: 100vh;\n  overflow: hidden;\n"]);return ot=function(){return e},e}Xe.defaultProps={variant:"join"};var ct=Object(u.a)(ot()),it=Object(u.a)(at()),st=Object(u.a)(rt()),ut=Object(u.a)(nt()),bt=Object(u.a)(tt()),lt=Object(u.a)(et(),C),dt=Object(u.a)(Qe()),ft=Object(u.a)($e(),y);function mt(){var e=Object(s.a)(["\n                  ","\n                "]);return mt=function(){return e},e}var jt=function(e){var t=e.players,n=e.enableKickout,a=void 0!==n&&n,o=Object(Ce.a)(e,["players","enableKickout"]),c=Object(r.useContext)(H),i=c.state,s=i.profile,b=i.game,l=s.id,d=b.creatorId===l;return Object(u.b)("ul",Object.assign({"aria-label":"players list",css:ut},o),t.map((function(e,t){if(!b.players[e]){var n=e.match("_(.*)_")[1];return Object(u.b)("li",{key:e,css:bt},Object(u.b)("span",null,Object(u.b)("span",{css:lt}),Object(u.b)("span",null," ",n," "),"\xa0",Object(u.b)("span",null," (Left) ")))}var r=b.players[e],o=r.avatar,i=r.name,s=r.id,f=r.isAfk,m=s===b.creatorId,j=b.words[s],O=b.teams&&(j?"[DONE]":"[WRITTING]");return Object(u.b)("li",{key:s,css:bt},Object(u.b)("span",null,Object(u.b)("img",{src:o,alt:"",css:lt}),Object(u.b)("span",{css:Object(u.a)(mt(),s===l?"font-weight: 600;":"")},i),"\xa0",Object(u.b)("span",null,m&&" (Admin) ",f&&" \u26a0\ufe0f ")),Object(u.b)("span",null,O,a&&d&&s!==l&&Object(u.b)(Ie,{variant:"light",size:"sm",onClick:function(){return function(e){var t=b.players[e].name;window.confirm("You are about to kick ".concat(t,". Are you sure?"))&&c.kickoutOfGame(e)}(s)}},"Kick out")))})))},Ot=n(7);function pt(){var e=Object(s.a)(["\n  display: flex;\n"]);return pt=function(){return e},e}function gt(){var e=Object(s.a)(["\n  text-align: center;\n  ","\n  ","\n  margin-top: -0.8rem;\n  margin-bottom: 2.4rem;\n"]);return gt=function(){return e},e}function ht(){var e=Object(s.a)(["\n  font-family: inherit;\n  font-size: inherit;\n  ","\n  color: ",";\n  border: none;\n  border-radius: 0;\n  border-bottom: 1px solid ",";\n  width: 100%;\n  height: 4rem;\n  text-align: center;\n  resize: none;\n\n  &::-moz-placeholder,\n  &::-webkit-input-placeholder {\n    color: ",";\n  }\n\n  &:focus {\n    outline: none;\n    border-color: ",";\n  }\n"]);return ht=function(){return e},e}function vt(){var e=Object(s.a)(["\n  text-align: center;\n  ","\n  ","\n  opacity: 0.5;\n"]);return vt=function(){return e},e}function yt(){var e=Object(s.a)(["\n  opacity: 1;\n"]);return yt=function(){return e},e}function Ct(){var e=Object(s.a)(["\n  width: calc(100vw - (1.6rem * 2));\n  min-height: 14.5rem; /* space for 2 lines */\n  margin: 0 0.4rem;\n  padding: 0.8rem 3.2rem 3.2rem;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  align-items: center;\n  flex-shrink: 0;\n  scroll-snap-align: center;\n  background: ",";\n  box-shadow: 0px 4px 16px rgba(0, 56, 255, 0.2);\n  opacity: 0.8;\n  transition: opacity 250ms;\n\n  &:first-child /* emotion-disable-server-rendering-unsafe-selector-warning-please-do-not-use-this-the-warning-exists-for-a-reason */ {\n    margin-left: 1.6rem;\n  }\n\n  &:last-child {\n    margin-right: 1.6rem;\n  }\n"]);return Ct=function(){return e},e}function kt(){var e=Object(s.a)(["\n  width: 100vw;\n  display: flex;\n  overflow-x: auto;\n  scroll-behavior: smooth;\n  scroll-snap-type: x mandatory;\n  padding: 1.6rem 0;\n  margin-left: -1.6rem; /* page padding */\n\n  &::after {\n    /* make margin work on last slide */\n    content: '';\n    width: 1px;\n    display: block;\n    flex-shrink: 0;\n  }\n  /* &::-webkit-scrollbar {\n    width: 10px;\n    height: 10px;\n  }\n  &::-webkit-scrollbar-thumb {\n    background: black;\n    border-radius: 10px;\n  }\n  &::-webkit-scrollbar-track {\n    background: transparent;\n  } */\n"]);return kt=function(){return e},e}function wt(){var e=Object(s.a)(["\n  margin-right: 2rem;\n"]);return wt=function(){return e},e}var xt=Object(u.a)(wt()),St=Object(u.a)(kt()),It=Object(u.a)(Ct(),w),Mt=Object(u.a)(yt()),Gt=Object(u.a)(vt(),x.small,x.secondary),Lt=Object(u.a)(ht(),x.h2,x.grayDark,C,h,y),Ft=Object(u.a)(gt(),x.secondary,x.small),Tt=Object(u.a)(pt()),Et=n(59),Pt=n.n(Et);function Wt(){var e=Object(r.useContext)(H),t=e.state,n=t.game,a=t.profile,o=Object(r.useRef)(null),c=Object(r.useRef)(Pt()((function(e,t){var n=o.current,r=Math.round(n.scrollLeft/n.scrollWidth*10);t!==r&&w(r)}),250)).current,i=Object(r.useContext)(Te).closeModal,s=Object(r.useState)([]),b=Object(B.a)(s,2),l=b[0],d=b[1],f=Object(r.useState)({}),m=Object(B.a)(f,2),j=m[0],O=m[1],p=Object(r.useState)(null),g=Object(B.a)(p,2),h=g[0],v=g[1],y=Object(r.useState)(0),C=Object(B.a)(y,2),k=C[0],w=C[1],S=n.settings.words,M=l.filter((function(e){return!!e})).length,G=!!n.words[a.id],L=function(e){var t=o.current.childNodes[e].getElementsByTagName("textarea")[0];t?t.focus():console.warn("textarea doesnt exist",o.current,e,t)};Object(r.useEffect)((function(){G&&i()}),[G]),Object(r.useEffect)((function(){o.current.scrollTo(0,0),L(0)}),[o]),Object(r.useEffect)((function(){setTimeout((function(){L(k)}),500)}),[k]);var F=function(e,t){var n=Object(Ot.a)(l);n[k]=e.target.value,O(Object(I.a)({},t,e.target.scrollHeight)),d(n)};return Object(u.b)("section",{css:_e},Object(u.b)("div",{css:ze,onClick:i,role:"none"}),Object(u.b)("div",{css:De},Object(u.b)("button",{css:Je,"aria-label":"Close Modal",onClick:i}),Object(u.b)("div",null,Object(u.b)("p",{css:[x.small,x.secondary,xt]},"\ud83d\udca1Write down words or expressions. Make sure everyone knows what you\u2019re talking about!"),Object(u.b)("div",{css:St,onScroll:function(e){return c(e,k)},ref:o},function(){for(var e=[],t=function(t){var n=t===k,r=n&&Mt,a=j[t]||"4rem";e.push(Object(u.b)("div",{css:[It,r],"data-slide":t+1,key:t},Object(u.b)("p",{css:Gt},"Paper n\xba ",t+1),Object(u.b)("textarea",Object.assign({style:{height:a},onChange:function(e){return F(e,t)},placeholder:"Write here..."},n?{autoFocus:"autofocus"}:{},{css:Lt}))))},n=0;n<S;n++)t(n);return e}()),h&&Object(u.b)("p",{css:Ft},h),Object(u.b)("p",{css:Ft},M," of ",S," done"),Object(u.b)("div",{css:Tt},10!==M?Object(u.b)(Ie,{hasBlock:!0,variant:"light",onClick:function(){var e=l.findIndex((function(e){return!e})),t=e>-1?e:9===k?0:k+1;o.current.scrollTo((window.innerWidth-24)*t,0),w(t)}},"Next paper"):Object(u.b)(Ie,{hasBlock:!0,onClick:function(){e.setWords(l,(function(e){if(e)return v("Something went wrong. ".concat(JSON.stringify(e)));i()}))}},"All done!! Eheheheh")))))}function Nt(){var e=Object(s.a)(["\n              margin-bottom: 1rem;\n            "]);return Nt=function(){return e},e}function Bt(){var e=Object(s.a)(["\n              display: flex;\n              justify-content: center;\n              ","\n            "]);return Bt=function(){return e},e}function Zt(e){var t=Object(r.useContext)(H),n=Object(r.useContext)(Te).setModal,a=t.state,o=a.profile,c=a.game,s=o.id,b=c.creatorId===s,l=!!c.teams,d=A(!!c.teams),f=function(e){return c.words[e]&&c.words[e].length===c.settings.words};function m(){n({component:Wt})}function j(){t.setWordsForEveyone()}function O(){t.startGame()}return Object(r.useEffect)((function(){!d&&l&&!f(s)&&m()})),Object(u.b)("main",{css:ct},c.teams?function(){var e=Object.keys(c.players).every(f),t=f(s),n=!e;return Object(u.b)(r.Fragment,null,Object(u.b)("header",{css:it},e?Object(u.b)("span",null,"Everyone finished! [GIF]"):Object(u.b)("span",null,"Waiting for other players [GIF]")),Object(u.b)("div",null,Object.keys(c.teams).map((function(e){var t=c.teams[e],n=t.id,r=t.name,a=t.players;return Object(u.b)("div",{key:n,css:dt},Object(u.b)("header",{css:ft},Object(u.b)("h1",{css:x.h3},r)),Object(u.b)(jt,{players:a}))}))),n&&Object(u.b)(Ie,{hasBlock:!0,onClick:j,css:Object(u.a)(Nt())},"Write everyone's papers \ud83d\udca5"),!t&&Object(u.b)(Ie,{hasBlock:!0,onClick:m},"Write your papers"),e&&b&&Object(u.b)(Ie,{onClick:O},"Start Game!"))}():Object(u.b)(r.Fragment,null,Object(u.b)("header",{css:it},b&&Object(u.b)("p",{css:[x.small,st]},"Ask your friends to join!"),Object(u.b)("span",{css:Object(u.a)(Bt(),b&&"padding-left: 3rem; /*emoji space*/")},Object(u.b)("h1",{css:x.h1},c.name),b&&Object(u.b)(Ie,{variant:"flat","aria-label":"button share",onClick:function(){return alert('Ask your friends to click "Join Game" and write "'.concat(c.name,'"'))}}," \ud83d\udd17"))),Object(u.b)("div",null,Object(u.b)("h2",{css:x.h3},"Lobby:"),Object(u.b)(jt,{players:Object.keys(c.players)})),Object.keys(c.players).length>=4?b?Object(u.b)(Ie,{as:i.b,hasBlock:!0,to:"teams"},"Create teams!"):Object(u.b)("p",null,"Wait for ",c.players[c.creatorId].name," to create the teams."):Object(u.b)("p",null,"Waiting for your friends to join the game (Minimum 4).")))}function Rt(){var e=Object(s.a)(["\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  background: ",";\n  padding: 0 1.6rem 1.6rem;\n  box-shadow: 0 -2rem 2rem white; /* fadeout effect */\n\n  /* REVIEW THIS first-child emotion error */\n  > button:first-of-type {\n    margin-top: -1rem; /* to appear above the fadeout */\n  }\n\n  > *:not(:last-child) {\n    margin-bottom: 1.6rem;\n  }\n"]);return Rt=function(){return e},e}function At(){var e=Object(s.a)(["\n  padding-bottom: 10rem; /* space for footer */\n"]);return At=function(){return e},e}function _t(){var e=Object(s.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-end;\n  margin-bottom: 1.6rem;\n\n  button {\n    color: ","; /* TODO DS */\n  }\n"]);return _t=function(){return e},e}function zt(){var e=Object(s.a)(["\n  margin-top: 0.8rem;\n  margin-bottom: 4rem;\n"]);return zt=function(){return e},e}function Dt(){var e=Object(s.a)(["\n  width: 100%;\n  background: ",";\n  border: none;\n  border-radius: 10px;\n  margin-top: 3.2rem;\n  padding: 6.4rem 1.6rem;\n  text-align: center;\n  font-size: inherit;\n  color: ",";\n\n  svg {\n    width: 100%;\n    margin-bottom: 4.8rem;\n  }\n"]);return Dt=function(){return e},e}function Jt(){var e=Object(s.a)(["\n  text-align: center;\n  margin: 2.4rem auto 0;\n"]);return Jt=function(){return e},e}function Ht(){var e=Object(s.a)([""]);return Ht=function(){return e},e}function Ut(){var e=Object(s.a)(["\n  padding: 1.6rem;\n"]);return Ut=function(){return e},e}var Yt=Object(u.a)(Ut()),Vt=Object(u.a)(Ht()),Xt=Object(u.a)(Jt()),qt=Object(u.a)(Dt(),C,y),Kt=Object(u.a)(zt()),$t=Object(u.a)(_t(),y),Qt=Object(u.a)(At()),en=Object(u.a)(Rt(),w);function tn(e){var t=Object(r.useContext)(H),n=t.teams,a=t.state.game,o=Object(r.useState)(n),c=Object(B.a)(o,2),s=c[0],b=c[1];function l(){var e=Object.keys(a.players),t=2,n=Array.from(Array(t),(function(){return[]})),r=Math.round(e.length/t),o={};function c(e,a){n[e].length===r?c(e===t-1?0:e+1,a):n[e].push(a)}for(var i=0,s=e;i<s.length;i++){var u=s[i];c(R(t-1),u)}n.forEach((function(e,t){o[t]={id:t,name:"Team ".concat(String.fromCharCode(t+65)),players:e}})),b(o)}function d(){t.setTeams(s)}return Object(u.b)("div",{css:Yt},Object(u.b)(Ie,{css:Vt,variant:"flat",as:i.b,to:"/game/".concat(a.name)},"Back to lobby"),Object(u.b)("h1",{css:[x.small,Xt]},"Create teams"),s?Object(u.b)(r.Fragment,null,Object(u.b)("div",{css:Qt},Object.keys(s).map((function(e){var t=s[e],n=t.id,r=t.name,a=t.players;return Object(u.b)("div",{key:n,css:Kt},Object(u.b)("header",{css:$t},Object(u.b)("h1",{css:x.h1},r),Object(u.b)(Ie,{onClick:function(){return function(e){var t=prompt("Choose a sweet name.",s[e].name);null!==t&&b((function(n){return Object(M.a)({},n,Object(I.a)({},e,Object(M.a)({},n[e],{name:t})))}))}(n)},variant:"flat"},"Rename")),Object(u.b)(jt,{players:a}))}))),Object(u.b)("div",{css:en},Object(u.b)(Ie,{hasBlock:!0,variant:"light",onClick:l},"Create a different random team"),Object(u.b)(Ie,{hasBlock:!0,onClick:d},"Next: Write your 10 words!"))):Object(u.b)("button",{css:qt,onClick:l},Object(u.b)("svg",{width:"72",height:"67",viewBox:"0 0 72 67",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Object(u.b)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M39.8323 28.9923C45.7163 32.0128 44.6576 32.296 44.6576 43.7262V44.0548L44.7226 44.06C46.8679 44.247 48.4499 44.4165 49.7872 44.5581C51.0854 44.6965 52.1132 44.8061 52.9119 44.8702L46.2581 29.5079C44.8103 29.5585 42.86 29.3043 39.8323 28.9923ZM17.0651 2.52221L18.7998 12.0159C19.0124 13.1753 20.1248 13.9431 21.2805 13.7292C22.4394 13.5184 23.2071 12.4065 22.9945 11.245L21.2568 1.75234C21.0442 0.590822 19.9298 -0.175946 18.774 0.0348633C17.6162 0.24774 16.8505 1.36172 17.0651 2.52221ZM8.40118 18.6419C9.35673 19.3291 10.6941 19.11 11.3793 18.1469C12.0665 17.189 11.8457 15.8508 10.8912 15.1656L5.58508 11.3721C4.62642 10.6849 3.29112 10.905 2.6018 11.8629C1.91661 12.825 2.13331 14.1591 3.09506 14.8504L8.40118 18.6419ZM46.3644 40.0949C45.869 40.0949 45.4676 40.5031 45.4676 41.0084C45.4676 41.5117 45.869 41.9198 46.3644 41.9198C46.8607 41.9198 47.2621 41.5117 47.2621 41.0084C47.2621 40.5031 46.8607 40.0949 46.3644 40.0949ZM46.6316 34.2191C46.1342 34.2191 45.7328 34.6273 45.7328 35.1305C45.7328 35.6359 46.1342 36.044 46.6316 36.044C47.128 36.044 47.5284 35.6359 47.5284 35.1305C47.5284 34.6273 47.128 34.2191 46.6316 34.2191ZM47.7967 37.4742C47.3003 37.4742 46.8989 37.8824 46.8989 38.3857C46.8989 38.89 47.3003 39.2971 47.7967 39.2971C48.292 39.2971 48.6944 38.89 48.6944 38.3857C48.6944 37.8824 48.292 37.4742 47.7967 37.4742ZM49.2166 41.2585C48.7213 41.2585 48.3178 41.6667 48.3178 42.171C48.3178 42.6742 48.7213 43.0834 49.2166 43.0834C49.7109 43.0834 50.1143 42.6742 50.1143 42.171C50.1143 41.6667 49.7109 41.2585 49.2166 41.2585ZM60.7482 18.8589C60.062 18.7029 59.3428 19.727 59.1385 21.1458C58.9362 22.5667 59.3283 23.844 60.0135 24.001C60.6987 24.156 61.42 23.132 61.6233 21.7121C61.8245 20.2922 61.4334 19.0139 60.7482 18.8589ZM58.1396 33.4058C57.4451 33.3077 56.7196 34.3772 56.5164 35.7981C56.3131 37.218 56.7114 38.4508 57.4059 38.5469C58.1003 38.6471 58.8248 37.5765 59.028 36.1577C59.2303 34.7379 58.833 33.5061 58.1396 33.4058ZM46.1115 15.5407C46.8411 16.1194 46.1301 17.4577 44.5224 18.5324C42.9147 19.6071 41.018 20.0091 40.2874 19.4304C39.5568 18.8538 40.2688 17.5124 41.8776 16.4387C43.4853 15.3651 45.3809 14.962 46.1115 15.5407ZM34.1795 47.1798C33.582 46.8139 32.4913 47.5073 31.7442 48.7319C30.995 49.9544 30.8732 51.244 31.4717 51.6088C32.0703 51.9757 33.16 51.2812 33.9071 50.0577C34.6562 48.8352 34.779 47.5466 34.1795 47.1798ZM38.1214 41.0022C37.5539 40.5868 36.4858 41.242 35.7387 42.4655C34.9916 43.688 34.8451 45.0169 35.4126 45.4302C35.9791 45.8477 37.0472 45.1926 37.7953 43.9701C38.5424 42.7476 38.689 41.4176 38.1214 41.0022ZM29.9693 53.3242C29.3718 52.9584 28.2811 53.6539 27.5319 54.8764C26.7848 56.0989 26.663 57.3885 27.2605 57.7543C27.859 58.1202 28.9497 57.4257 29.6968 56.2022C30.446 54.9807 30.5678 53.6911 29.9693 53.3242ZM6.61699 41.0022C7.18661 40.5868 8.25155 41.242 8.99969 42.4655C9.74679 43.688 9.8923 45.0169 9.32577 45.4302C8.75719 45.8477 7.69122 45.1926 6.94308 43.9701C6.19494 42.7476 6.04944 41.4176 6.61699 41.0022ZM14.7681 45.4385C15.3656 45.0727 16.4573 45.7661 17.2045 46.9886C17.9516 48.2131 18.0754 49.5007 17.4759 49.8676C16.8773 50.2344 15.7887 49.539 15.0405 48.3165C14.2934 47.094 14.1706 45.8043 14.7681 45.4385ZM6.61699 48.89C7.18661 48.4746 8.25155 49.1277 8.99969 50.3533C9.74679 51.5758 9.8923 52.9036 9.32577 53.3191C8.75719 53.7355 7.69122 53.0793 6.94308 51.8568C6.19494 50.6333 6.04944 49.3034 6.61699 48.89ZM14.7681 53.3242C15.3656 52.9584 16.4573 53.6539 17.2045 54.8764C17.9516 56.0989 18.0754 57.3885 17.4759 57.7543C16.8773 58.1202 15.7887 57.4257 15.0405 56.2022C14.2934 54.9807 14.1706 53.6911 14.7681 53.3242ZM24.9934 28.4156C25.0512 29.1173 23.9346 29.6857 22.5023 29.6857C21.0711 29.6857 19.8637 29.1173 19.807 28.4156C19.7502 27.714 20.8647 27.1446 22.297 27.1446C23.7293 27.1446 24.9366 27.714 24.9934 28.4156ZM16.9589 33.0596C16.9589 33.7623 15.798 34.3307 14.3657 34.3307C12.9344 34.3307 11.7735 33.7623 11.7735 33.0596C11.7735 32.36 12.9344 31.7907 14.3657 31.7907C15.798 31.7907 16.9589 32.36 16.9589 33.0596ZM33.6996 33.2498C33.6996 33.9515 32.5408 34.5198 31.1085 34.5198C29.6752 34.5198 28.5143 33.9515 28.5143 33.2498C28.5143 32.5481 29.6752 31.9798 31.1085 31.9798C32.5408 31.9798 33.6996 32.5481 33.6996 33.2498ZM25.142 33.1289C25.2266 33.8285 24.1338 34.4392 22.7025 34.494C21.2712 34.5477 20.0412 34.0269 19.9586 33.3273C19.8751 32.6267 20.9668 32.017 22.3991 31.9622C23.8294 31.9074 25.0584 32.4303 25.142 33.1289ZM25.1316 37.5621C25.1884 38.2627 24.0729 38.8321 22.6396 38.8321C21.2073 38.8321 20.002 38.2627 19.9452 37.5621C19.8874 36.8594 21.0019 36.29 22.4342 36.29C23.8665 36.29 25.0728 36.8594 25.1316 37.5621ZM44.703 48.2431C44.8547 57.5249 44.8031 55.638 33.5108 61.7143C20.4096 68.7619 24.3216 68.7619 11.2193 61.7143C-1.62699 54.802 0.07464 58.1987 0.07464 43.7262C0.07464 29.2547 -1.62699 32.6515 11.2193 25.7381C20.2393 20.8875 21.1959 19.3746 25.1905 21.2037C26.3483 19.7693 27.9859 17.9061 30.154 15.1698C39.4041 3.50805 35.8099 5.05916 50.6272 6.34159C65.1587 7.60128 62.2528 5.15733 67.9686 18.4497C73.6823 31.741 73.9052 27.9485 64.8357 39.3839C55.6568 50.9557 59.1189 49.5214 44.703 48.2431ZM28.926 23.1971C29.539 23.5432 30.2107 23.9235 30.9496 24.3348L40.9344 25.1233L46.7173 25.5449C46.7358 25.5377 46.7565 25.5263 46.7761 25.5191L58.7732 11.0693C58.0529 11.0083 57.0757 10.9505 55.8177 10.875C54.1584 10.7769 52.1606 10.658 50.2671 10.4958C48.1207 10.3077 46.5398 10.1393 45.2014 9.99665C42.0737 9.6639 40.5103 9.4965 39.9531 9.73727C39.3958 9.97702 38.4434 11.2295 36.5354 13.7334C35.7181 14.806 34.7543 16.0729 33.4138 17.7615C32.2323 19.2516 30.9455 20.7872 29.8764 22.0603C29.5255 22.4789 29.2067 22.8591 28.926 23.1971ZM50.0535 27.8194L56.6835 43.1206C57.1592 42.5223 57.7392 41.7607 58.4533 40.8224C59.2716 39.7487 60.2354 38.4828 61.5748 36.7943C62.7564 35.3031 64.0421 33.7696 65.1122 32.4954C66.8861 30.3791 67.7931 29.2971 67.8478 28.9313C67.9097 28.5221 67.2782 27.1187 65.9842 24.2428C65.2784 22.6711 64.458 20.8482 64.1381 20.1021C63.8161 19.3539 63.0577 17.5042 62.4024 15.9107C62.0299 15.0044 61.7172 14.2418 61.452 13.6135C60.4686 15.0364 58.6824 16.9389 55.924 20.4173C52.9387 24.1798 51.3815 26.476 50.0535 27.8194ZM22.3372 41.8279C22.3578 41.8279 22.3785 41.8268 22.3991 41.8258L39.1255 33.3066C38.4877 32.9666 37.6137 32.5254 36.4858 31.9591C35.0019 31.2099 33.2126 30.3109 31.5398 29.4108C29.6411 28.3888 28.2573 27.6075 27.084 26.9472C24.3422 25.4013 22.9729 24.6293 22.3661 24.6293C21.7583 24.6293 20.3879 25.4013 17.6492 26.9472C16.4749 27.6075 15.089 28.3888 13.1913 29.4108C11.5176 30.3109 9.73028 31.2099 8.24329 31.9591C7.26297 32.452 6.47252 32.8499 5.86576 33.1681L17.191 39.1494L22.3372 41.8279ZM24.5022 45.237L24.5486 61.9168C25.2235 61.5561 26.0573 61.0849 27.084 60.5073C28.2573 59.8469 29.6411 59.0647 31.5398 58.0437C33.2126 57.1426 35.0019 56.2415 36.4858 55.4954C38.948 54.2563 40.21 53.6198 40.4061 53.3046C40.6238 52.9533 40.6001 51.4156 40.5464 48.2617C40.5186 46.5391 40.4855 44.5384 40.4855 43.7262C40.4855 42.914 40.5186 40.9133 40.5464 39.1917C40.5619 38.211 40.5784 37.3864 40.5815 36.7044C39.1151 37.622 36.7242 38.6626 32.8184 40.7635C28.5906 43.038 26.2523 44.5291 24.5022 45.237ZM20.3951 62.0294L20.3477 45.2856C18.5862 44.5963 16.2386 43.0907 11.9138 40.7635C7.9265 38.6192 5.55721 37.6024 4.14968 36.7013C4.15484 37.3823 4.16825 38.21 4.18373 39.1917C4.21263 40.9133 4.24565 42.914 4.24565 43.7262C4.24565 44.5384 4.21263 46.5391 4.18373 48.2617C4.13214 51.4156 4.10737 52.9533 4.3251 53.3046C4.5191 53.6198 5.78217 54.2563 8.24329 55.4954C9.73028 56.2415 11.5176 57.1426 13.1913 58.0437C15.089 59.0647 16.4749 59.8469 17.6492 60.5073C18.7843 61.148 19.6862 61.6554 20.3951 62.0294Z",fill:"#0038FF"})),"Click to create a random team!"))}function nn(){var e=Object(s.a)(["\n  padding: 1.6rem;\n"]);return nn=function(){return e},e}var rn=Object(u.a)(nn());function an(){var e=Object(s.a)(["\n      display: flex;\n      justify-content: space-between;\n      padding: 0.8rem 0;\n      border-bottom: 1px solid #eee;\n    "]);return an=function(){return e},e}function on(e){var t=Object(r.useContext)(H),n=t.state,a=n.profile,o=n.game,c=o.round,i="finished"===c.status,s=!["getReady","finished"].includes(c.status),b=A(s),l=o.creatorId===a.id,d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object(M.a)({intervalTime:1e3,timer:6e4},t),a=Object(r.useState)(e),o=Object(B.a)(a,2),c=o[0],i=o[1],s=Object(r.useState)(m(c)),u=Object(B.a)(s,2),b=u[0],l=u[1],d=n.intervalTime,f=Object(r.useCallback)((function(e){return m(e)}),[]);function m(e){var t=n.timer-(Date.now()-e);return Math.max(0,t)}return Object(r.useEffect)((function(){if(console.log("useEffect - countdown"),0!==f(c)){var e=setInterval((function(){l((function(){var t=f(c);return t<=0?(clearInterval(e),0):t}))}),d);return function(){return clearInterval(e)}}}),[c,f,d]),[b,function(e){l(m(e)),i(e)}]}(s?c.status:null,{timer:13400}),f=Object(B.a)(d,2),m=f[0],j=f[1],O=Math.round(10),p=Math.round(m/1e3),g=c.current,h=Object(B.a)(c.turnWho,3),v=h[0],y=h[1],C=h[2],k=o.teams[v].players[C?0:y],w=k===a.id,S=Object(r.useState)(JSON.parse(window.localStorage.getItem("turn"))||{current:null,passed:[],guessed:[],wordsLeft:c.wordsLeft}),I=Object(B.a)(S,2),G=I[0],L=I[1],F=Object(r.useState)(null),T=Object(B.a)(F,2),E=T[0],P=T[1];function W(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=G.current,n=[],r=null,a=!1;G.wordsLeft.length>0?(r="left",n=Object(Ot.a)(G.wordsLeft)):G.passed.length>0?(r="passed",n=Object(Ot.a)(G.passed)):a=!0,L((function(o){var c={},i=!a&&R(n.length-1),s=a?null:n[i];a||n.splice(i,1),e?(c.guessed=[].concat(Object(Ot.a)(o.guessed),[t]),"left"===r?c.wordsLeft=n:"passed"===r&&(c.passed=n)):"left"===r?(c.wordsLeft=n,c.passed=[].concat(Object(Ot.a)(o.passed),[t])):"passed"===r&&(n.length>0?c.passed=[].concat(Object(Ot.a)(n),[t]):(s=t,c.passed=[]));var u=Object(M.a)({},o,{},c,{current:s});return window.localStorage.setItem("turn",JSON.stringify(u)),u}))}function N(e,t){L((function(n){var r={};if(t){var a=Object(Ot.a)(n.passed),o=a.indexOf(e);a.splice(o,1),r.guessed=[].concat(Object(Ot.a)(n.guessed),[e]),r.passed=a}else{var c=Object(Ot.a)(n.guessed),i=c.indexOf(e);c.splice(i,1),r.guessed=c,r.passed=[].concat(Object(Ot.a)(n.passed),[e])}var s=Object(M.a)({},n,{},r);return window.localStorage.setItem("turn",JSON.stringify(s)),s}))}function Z(){t.startTurn()}function _(){t.finishTurn(G)}function z(){t.startNextRound()}function D(){P(!0)}Object(r.useEffect)((function(){!1===b&&s&&(console.log("useEffect:: hasCountdownStarted"),L((function(){var e={current:null,passed:[],guessed:[],wordsLeft:c.wordsLeft};if(0===c.wordsLeft.length)return window.localStorage.setItem("turn",JSON.stringify(e)),e;var t=Object(Ot.a)(e.wordsLeft),n=R(t.length-1),r=t[n];return t.splice(n,1),e.current=r,e.wordsLeft=t,window.localStorage.setItem("turn",JSON.stringify(e)),e})),j(c.status))}),[j,c.status,b,s]);var J=function(e){var t=Object(u.a)(an());return Object(u.b)(r.Fragment,null,Object(u.b)("h1",null,"timesup"===e?"Time's Up!":"No more words"),Object(u.b)("p",null,"Your team got ",Object(u.b)("strong",null,G.guessed.length)," papers!"),Object(u.b)("p",null,"Guessed:"),Object(u.b)("ul",null,G.guessed.map((function(e,n){return Object(u.b)("li",{css:t,key:"".concat(n,"_").concat(e)},"- ",e,Object(u.b)(Ie,{variant:"flat","aria-label":"mark as not guessed",onClick:function(){return N(e,!1)}},"\u2705")," ")}))),Object(u.b)("p",null,"Passed:"),Object(u.b)("ul",null,G.passed.map((function(e,n){return Object(u.b)("li",{css:t,key:"".concat(n,"_").concat(e)},"- ",e,Object(u.b)(Ie,{variant:"flat","aria-label":"mark as guessed",onClick:function(){return N(e,!0)}},"\u274c"))}))),Object(u.b)(Ie,{hasBlock:!0,onClick:_},"Finish my turn"))},U=function(){var e={},t=o.score[c.current];Object.keys(o.teams).forEach((function(n){o.teams[n].players.forEach((function(r){var a=t[r]?t[r].length:0;e[n]=(e[n]||0)+a}))}));var n=Object.values(e),a=Object.keys(e)[n.indexOf(Math.max.apply(Math,Object(Ot.a)(n)))];return Object(u.b)(r.Fragment,null,Object(u.b)("h1",null,"Round finished!"),Object(u.b)("div",null,"Winner: ",o.teams[a].name),Object(u.b)("ul",null,"Scores:",Object.keys(e).map((function(t){return Object(u.b)("li",{key:t},o.teams[t].name,": ",e[t])}))),Object(u.b)("br",null),c.current+1===o.settings.rounds.length?Object(u.b)(Ie,{hasBlock:!0,onClick:D},"Show final winner!"):l?Object(u.b)(Ie,{hasBlock:!0,onClick:z},"Start Round ",c.current+1+1," of ",o.settings.rounds.length):Object(u.b)("p",null,"Wait for admin (",o.players[o.creatorId].name,") to start next round."))};if(E){var Y={},V=o.settings.rounds.map((function(e,t){return function(e){var t=o.score[e],n={},r={};Object.keys(o.teams).forEach((function(e){o.teams[e].players.forEach((function(a){var o=t[a]?t[a].length:0;o>(r.score||0)&&(r={score:o,id:a}),n[e]=(n[e]||0)+o})),Y[e]=(Y[e]||0)+n[e]}));var a=Object.values(n),c=Object.keys(n);a.indexOf(Math.max.apply(Math,Object(Ot.a)(a)));return{arrayOfScores:a,arrayOfTeamsId:c,bestPlayer:r}}(t)}));return console.log("final scores:",V),Object(u.b)("div",{css:rn},V.map((function(e,t){return Object(u.b)(r.Fragment,{key:t},Object(u.b)("p",null,"Round ",t,":"),Object(u.b)("ul",null,Object.keys(e.arrayOfTeamsId).map((function(t,n){return Object(u.b)("li",{key:t},o.teams[t].name,": ",e.arrayOfScores[n])}))),Object(u.b)("p",null,"Best Player: ",o.players[e.bestPlayer.id].name," (",e.bestPlayer.score,")"),Object(u.b)("br",null))})),Object(u.b)("br",null),Object(u.b)("p",null,"**Final Team Winner** ",function(){var e=Object.values(Y),t=Object.keys(Y),n=Math.max.apply(Math,Object(Ot.a)(e)),r=t[e.indexOf(n)];return"".concat(o.teams[r].name,": (").concat(n,")")}()),Object(u.b)("br",null),Object(u.b)(Ie,{onClick:t.leaveGame},"Leave game"))}return Object(u.b)("div",{css:rn},!s&&Object(u.b)("header",null,Object(u.b)("h1",null,"Round ",g+1),Object(u.b)("p",null,"Try to guess as many papers as possible in 1 minute. ",Object(u.b)("br",null),o.settings.rounds[g].description),Object(u.b)("br",null)),Object(u.b)("div",null,Object(u.b)("br",null),w?i?U():s?G.current||G.passed.length>0||G.wordsLeft.length>0?0===p?J("timesup"):Object(u.b)(r.Fragment,null,Object(u.b)("br",null),p>O?Object(u.b)("p",null,p-O,"..."):Object(u.b)(r.Fragment,null,Object(u.b)(Ie,{hasBlock:!0,variant:"success",onClick:function(){return W(!0)}},"Got it!"),Object(u.b)("br",null),p,Object(u.b)("br",null)," - current: ",G.current,Object(u.b)("br",null)," - passed: ",G.passed.join(", "),Object(u.b)("br",null)," - guessed: ",G.guessed.join(", "),Object(u.b)("br",null)," - wordsLeft:"," ",Object(u.b)("span",{css:x.small},G.wordsLeft.join(", ")),Object(u.b)("br",null),Object(u.b)("br",null),!G.current||G.wordsLeft.length||G.passed.length?Object(u.b)(Ie,{hasBlock:!0,variant:"light",onClick:function(){return W(!1)}},"Next paper"):Object(u.b)("p",null,"----- Last paper!! -----"))):J("nowords"):Object(u.b)(r.Fragment,null,Object(u.b)("h2",null,"It's your turn!"),"[IMG EXPLAINING]",C&&Object(u.b)("p",null,"Your team has one player less, so it's you again."),Object(u.b)("p",null,"You ready?"),Object(u.b)("br",null),Object(u.b)(Ie,{hasBlock:!0,onClick:Z},"Start now!")):i?U():function(){var e=o.teams[v].name,t=o.players[k].name;return Object(u.b)(r.Fragment,null,"Wait for your turn...",Object(u.b)("br",null),"Timer:"," ",p?p>O?Object(u.b)("p",null,p-O,"..."):m+"(ms)":0,Object(u.b)("br",null),Object(u.b)("p",null,"Turn: ",Number(c.turnCount).toString()),Object(u.b)("p",null,"Team: ",e),Object(u.b)("p",null,"Player: ",t))}()))}function cn(){var e=Object(s.a)(["\n          position: absolute;\n          top: 0;\n          left: 0;\n        "]);return cn=function(){return e},e}function sn(e){var t=Object(b.g)().id,n=Object(r.useContext)(H),a=n.state,o=a.profile,c=a.game,s=c&&c.name,l=o&&o.id,d=c&&c.players[l].isAfk,f=Object(r.useState)("loading"),m=Object(B.a)(f,2),j=m[0],O=m[1],p=A(s);Object(r.useEffect)((function(){return!!l&&(p&&!s?O("leftGame"):void(t===s?d?n.recoverPlayer():O("ready"):n.accessGame("join",t,(function(e){if(e){var t={notFound:function(){return"This game does not exist."},alreadyStarted:function(){return"This game had already started."},ups:function(){return"Ups, something went wrong! Error: ".concat(JSON.stringify(e))}},n=t[e]?e:"ups",r=t[n]();return console.warn("/game/:id - accessGame failed:",s,r,e),O(n)}}))))}),[l,s,d]);return"loading"===j?Object(u.b)("h1",null,"Loading..."):l?"notFound"===j?Object(u.b)(r.Fragment,null,Object(u.b)("h1",null,'Ups, the game "',t,'"" doesn\'t seem to exist!')," ",Object(u.b)(Ie,{as:i.b,to:"/"},"Go Home")):"leftGame"!==j&&c?"ups"===j?Object(u.b)(r.Fragment,null,Object(u.b)("h1",null,"Ups, something went wrong loading this game. See logs")," ",Object(u.b)(Ie,{as:i.b,to:"/"},"Go Home")):Object(u.b)("div",null,Object(u.b)("button",{css:Object(u.a)(cn()),onClick:function(){window.confirm("Are you sure you wanna leave the game? You wont be able to join it again.")&&n.leaveGame()}},"Leave"),Object(u.b)(b.d,null,Object(u.b)(b.b,{exact:!0,path:"/game/:id"},Object(u.b)(b.a,{to:"/game/".concat(s,"/lobby")})),Object(u.b)(b.b,{path:"/game/:id/lobby"},c.hasStarted?Object(u.b)(b.a,{to:"/game/".concat(s,"/playing")}):Object(u.b)(Zt,null)),Object(u.b)(b.b,{path:"/game/:id/teams"},c.teams?Object(u.b)(b.a,{to:"/game/".concat(s,"/lobby")}):Object(u.b)(tn,null)),Object(u.b)(b.b,{path:"/game/:id/playing"},c.hasStarted?Object(u.b)(on,null):Object(u.b)(b.a,{to:"/game/".concat(s,"/lobby")})),Object(u.b)(b.b,{path:"*"},Object(u.b)(b.a,{to:"/game/:id"})))):Object(u.b)(b.a,{push:!0,to:"/"}):Object(u.b)(r.Fragment,null,Object(u.b)("h1",null,"To join ",s," you need to create a profile before!"),Object(u.b)("br",null),Object(u.b)(Ie,{as:i.b,to:"/"},"Create profile"))}function un(){var e=Object(s.a)(["\n            position: fixed;\n            top: 0;\n            right: 0;\n          "]);return un=function(){return e},e}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(i.a,null,a.a.createElement((function(e){return Object(u.b)(Fe,null,Object(u.b)(J,null,Object(u.b)("button",{css:Object(u.a)(un()),onClick:function(){return window.location.reload()}},"Refresh"),Object(u.b)("div",{css:S},Object(u.b)(b.d,null,Object(u.b)(b.b,{path:"/game/:id"},Object(u.b)(sn,null)),Object(u.b)(b.b,{exact:!0,path:"/"},Object(u.b)(Ke,null)),Object(u.b)(b.b,{path:"*"},Object(u.b)(b.a,{to:"/"})))),Object(u.b)(Te.Consumer,null,(function(e){e.room;var t=e.modal,n=t.component,a=t.props||{};return Object(u.b)(r.Fragment,null,n&&Object(u.b)(n,a))}))))}),null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},62:function(e,t,n){e.exports=n(112)},67:function(e,t,n){},96:function(e,t){}},[[62,1,2]]]);
//# sourceMappingURL=main.ec3bf1f2.chunk.js.map